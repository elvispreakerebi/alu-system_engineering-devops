#!/usr/bin/env bash
# This script configures Nginx to return an HTTP 200 response on port 80

# Install Nginx
apt update
apt install -y nginx

# Configure Nginx to listen on port 80
sed -i 's/listen 80 default_server;/listen 80;/g' /etc/nginx/sites-available/default
sed -i 's/root \/var\/www\/html;/root \/var\/www\/html; index index.html;/g' /etc/nginx/sites-available/default

# Create a test HTML file
echo "Hello World" > /var/www/html/index.html

# Restart Nginx
systemctl restart nginx

# Enable Nginx on boot
systemctl enable nginx

# Allow traffic on port 80
ufw allow 80/tcp
